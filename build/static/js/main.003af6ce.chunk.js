(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e){e.exports=[{quarter:"2010 Q1",grossValueAdded:112910065,quarterlyAVG:102439350},{quarter:"2010 Q2",grossValueAdded:136366634,quarterlyAVG:102439350},{quarter:"2010 Q3",grossValueAdded:69018068,quarterlyAVG:102439350},{quarter:"2010 Q4",grossValueAdded:116660659,quarterlyAVG:102439350},{quarter:"2011 Q1",grossValueAdded:133175165,quarterlyAVG:102439350},{quarter:"2011 Q2",grossValueAdded:133560025,quarterlyAVG:102439350},{quarter:"2011 Q3",grossValueAdded:62064086,quarterlyAVG:102439350},{quarter:"2011 Q4",grossValueAdded:107130798,quarterlyAVG:102439350},{quarter:"2012 Q1",grossValueAdded:108924691,quarterlyAVG:102439350},{quarter:"2012 Q2",grossValueAdded:114089756,quarterlyAVG:102439350},{quarter:"2012 Q3",grossValueAdded:69511120,quarterlyAVG:102439350},{quarter:"2012 Q4",grossValueAdded:99784088,quarterlyAVG:102439350},{quarter:"2013 Q1",grossValueAdded:122183507,quarterlyAVG:102439350},{quarter:"2013 Q2",grossValueAdded:114144141,quarterlyAVG:102439350},{quarter:"2013 Q3",grossValueAdded:68076514,quarterlyAVG:102439350},{quarter:"2013 Q4",grossValueAdded:96447862,quarterlyAVG:102439350},{quarter:"2014 Q1",grossValueAdded:111250168,quarterlyAVG:102439350},{quarter:"2014 Q2",grossValueAdded:114929714,quarterlyAVG:102439350},{quarter:"2014 Q3",grossValueAdded:79630767,quarterlyAVG:102439350},{quarter:"2014 Q4",grossValueAdded:102639760,quarterlyAVG:102439350},{quarter:"2015 Q1",grossValueAdded:111057159,quarterlyAVG:102439350},{quarter:"2015 Q2",grossValueAdded:126809350,quarterlyAVG:102439350},{quarter:"2015 Q3",grossValueAdded:71286961,quarterlyAVG:102439350},{quarter:"2015 Q4",grossValueAdded:113199810,quarterlyAVG:102439350},{quarter:"2016 Q1",grossValueAdded:120985418,quarterlyAVG:102439350},{quarter:"2016 Q2",grossValueAdded:101664534,quarterlyAVG:102439350},{quarter:"2016 Q3",grossValueAdded:61237204,quarterlyAVG:102439350},{quarter:"2016 Q4",grossValueAdded:89563770,quarterlyAVG:102439350}]},127:function(e,t,a){e.exports=a(254)},132:function(e,t,a){},133:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},254:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(27),i=a.n(s),l=(a(132),a(28)),o=a(29),d=a(31),u=a(30),c=a(32),h=(a(133),a(4)),y=a(41),g=(a(106),a(35)),A=a(14),b=(a(136),function(e,t,a,r,n,s,i,l,o,d){e.selectAll("text").data(t).enter().append("text").attr("class",a).attr("text-anchor",r).attr("x",n).attr("y",s).text("data"===i?function(e){return l+Object(A.a)(o)(e[d])}:d)}),m=function(e,t,a,r){e.append("g").attr("class",t).attr("transform","translate(".concat(a,", ").concat(r,")"))},x=function(e,t,a){e.select(".".concat(t)).attr("x",a)},f=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){1e4===e.width?this.initVis():e.width!==this.props.width&&this.updateDimensions()}},{key:"initVis",value:function(){var e=this,t=this.props,a=t.height,r=t.width,n=t.data,s=t.year,i=t.marginRatio,l=t.colors,o=t.delay,d=l.above,u=l.below,c=Object(h.d)(this.node),x=n.filter(function(e){return e.year===+s}),f=r*i,v=r-2*f,p=a-2*f;c.attr("height",a).attr("width",r),m(c,"chart-area",f,f),m(c,"year-text-area",f,f),m(c,"ban-area",f,f),m(c,"ban-sub-area",f,f),m(c,"chart-text-area",f,f),m(c,"bar-chart-area",f,f+.85*p),m(c,"bar-chart-text-one",f,f),m(c,"bar-chart-text-two",f,f);var V=c.select(".chart-area"),q=c.select(".year-text-area"),w=c.select(".ban-area"),G=c.select(".ban-sub-area"),k=c.select(".chart-text-area"),O=c.select(".bar-chart-area");b(V,x,"year-text","middle",v/2,.1*p,"data","","","year"),b(q,x,"year-sub-text light","middle",v/2,.2*p,"text","","","Value Added per Bike"),b(w,x,"ban-text","middle",v/2,.5*p,"data","\xa3",".2f","valueAddedPerBik"),b(G,x,"ban-sub-text light","middle",v/2,.6*p,"data","","+.1%","%fromAvgPerBike"),b(k,x,"chart-text light","start",0,.8*p,"text","","","Gross Value Added"),this.xScale=Object(y.b)().domain([0,1.05*Object(g.a)(n,function(e){return e.grossValueAdded})]).range([0,v]);var j=O.selectAll(".bar-chart-rect").data(x),S=O.selectAll(".bar-chart-line").data(x),Q=O.selectAll(".bar-chart-text").data(x);j.enter().append("rect").attr("class","bar-chart-rect").attr("x",0).attr("y",3).attr("width",0).attr("height",.2*p-6).attr("fill",function(e){return e.grossValueAdded>e.yearlyAvgGross?d:u}).merge(j).transition("bar-in").delay(o).duration(1e3).attr("width",function(t){return e.xScale(t.grossValueAdded)}),S.enter().append("line").attr("class","bar-chart-line").attr("x1",function(t){return e.xScale(t.yearlyAvgGross)}).attr("x2",function(t){return e.xScale(t.yearlyAvgGross)}).attr("y1",0).attr("y1",.2*p).style("stroke","#333").style("stroke-width",2),Q.enter().append("text").attr("class","bar-chart-text").attr("x",.02*v).attr("text-anchor","start").attr("y",.125*p).attr("fill",function(e){return e.grossValueAdded>e.yearlyAvgGross?"#fff":"#333"}).attr("opacity",0).text(function(e){return Object(A.a)(".3s")(e.grossValueAdded)+" | "+Object(A.a)("+.1%")(e["%fromAvgGross"])}).merge(Q).transition("text-in").duration(1e3).delay(o).attr("opacity",1)}},{key:"updateDimensions",value:function(){var e=this,t=this.props,a=t.height,r=t.width,n=t.marginRatio,s=Object(h.d)(this.node),i=r-2*(r*n);s.attr("height",a).attr("width",r),x(s,"year-text",i/2),x(s,"year-sub-text",i/2),x(s,"ban-text",i/2),x(s,"ban-sub-text",i/2),this.xScale.range([0,i]),s.select(".bar-chart-rect").attr("width",function(t){return e.xScale(t.grossValueAdded)}),s.select(".bar-chart-line").attr("x1",function(t){return e.xScale(t.yearlyAvgGross)}).attr("x2",function(t){return e.xScale(t.yearlyAvgGross)})}},{key:"render",value:function(){var e=this;return n.a.createElement("svg",{ref:function(t){return e.node=t}})}}]),t}(r.Component);f.defaultProps={colors:{above:"#3F7B7F",below:"#C1CACC"}};var v=f,p=a(118),V=(a(137),function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){1e4===e.width?this.initVis():e.width!==this.props.width&&this.updateDimensions()}},{key:"initVis",value:function(){var e=this,t=this.props,a=t.height,r=t.width,n=t.data,s=t.year,i=t.marginRatio,l=t.colors,o=t.delay,d=l.above,u=l.below,c=Object(h.d)(this.node),x=n.filter(function(e){return+e.quarter.substring(0,4)===s}),f=r*i,v=r-2*f,V=a-2*f;c.attr("height",a).attr("width",r),m(c,"chart-area ",f,f),m(c,"x-axis",f,f+.97*V);var q=c.select(".chart-area"),w=q.selectAll(".bar-chart-rects").data(x),G=q.selectAll(".bar-chart-label").data(x),k=q.selectAll(".bar-chart-line").data(x),O=Object(g.b)(x,function(e){return e.grossValueAdded}),j=Object(g.a)(x,function(e){return e.grossValueAdded}),S=Object(h.d)(".tooltip");b(q,["text"],".bar-title light","start",0,.05*V,"text","","","Gross Value Added vs. Qtrly Avg"),this.yScale=Object(y.b)().range([.97*V,.1*V]).domain([0,1.05*Object(g.a)(n,function(e){return e.grossValueAdded})]),this.xScale=Object(y.a)().range([0,v]).domain(x.map(function(e){return e.quarter.substring(5)})).paddingOuter(.1).paddingInner(.2),this.xAxis=c.select(".x-axis"),this.xAxisCall=Object(p.a)(this.xScale).tickSize(1),this.xAxis.transition().duration(1e3).call(this.xAxisCall),this.xAxis.select(".domain").remove(),this.xAxis.selectAll(".tick line").remove(),w.enter().append("rect").attr("class","bar-chart-rects").attr("x",function(t){return e.xScale(t.quarter.substring(5))}).attr("height",0).attr("y",.97*V).attr("width",this.xScale.bandwidth()).attr("fill",function(e){return e.grossValueAdded>e.quarterlyAVG?d:u}).on("mouseover",function(e){S.style("opacity",.9).style("height","auto"),S.select(".value-one").text(e.quarter),S.select(".description-two").text("Gross Value Added: "),S.select(".value-two").text("\xa3"+Object(A.a)(".3s")(e.grossValueAdded))}).on("mousemove",function(e){return S.style("left",h.a.pageX+10+"px").style("top",h.a.pageY+10+"px")}).on("mouseout",function(e){S.style("opacity",0).style("height",0),S.selectAll("text").text("")}).merge(w).transition("bars-in").duration(1e3).delay(o).attr("height",function(t){return e.yScale(0)-e.yScale(t.grossValueAdded)}).attr("y",function(t){return e.yScale(t.grossValueAdded)}),G.enter().append("text").attr("class","bar-chart-label").attr("x",function(t){return e.xScale(t.quarter.substring(5))+e.xScale.bandwidth()/2}).attr("text-anchor","middle").attr("y",this.yScale(0)).attr("fill","#333").attr("opacity",0).attr("font-size",function(e){return e.grossValueAdded===O||e.grossValueAdded===j?"10px":0}).text(function(e){return"\xa3"+Object(A.a)(".3s")(e.grossValueAdded)}).merge(G).transition("bars-in").duration(1e3).delay(o).attr("opacity",1).attr("y",function(t){return e.yScale(t.grossValueAdded)+-3}),k.enter().append("line").attr("class","bar-chart-line").attr("x1",0).attr("x2",v).attr("y1",function(t){return e.yScale(t.quarterlyAVG)}).attr("y2",function(t){return e.yScale(t.quarterlyAVG)}).style("stroke","#333").style("stroke-width",2).attr("opacity",0).on("mouseover",function(e){S.style("opacity",.9).style("height","auto"),S.select(".description-one").text("Quaterly Average: "),S.select(".value-one").text("\xa3"+Object(A.a)(".3s")(e.quarterlyAVG))}).on("mousemove",function(e){return S.style("left",h.a.pageX+10+"px").style("top",h.a.pageY+10+"px")}).on("mouseout",function(e){S.style("opacity",0).style("height",0),S.selectAll("text").text("")}).merge(k).transition("line-in").duration(1e3).delay(o).attr("opacity",1)}},{key:"updateDimensions",value:function(){var e=this,t=this.props,a=t.height,r=t.width,n=t.marginRatio,s=Object(h.d)(this.node),i=r-2*(r*n);s.attr("height",a).attr("width",r),this.xScale.range([0,i]),this.xAxis.call(this.xAxisCall),this.xAxis.select(".domain").remove(),this.xAxis.selectAll(".tick line").remove(),s.selectAll(".bar-chart-rects").attr("x",function(t){return e.xScale(t.quarter.substring(5))}).attr("width",this.xScale.bandwidth()),s.selectAll(".bar-chart-label").attr("x",function(t){return e.xScale(t.quarter.substring(5))+e.xScale.bandwidth()/2})}},{key:"render",value:function(){var e=this;return n.a.createElement("svg",{ref:function(t){return e.node=t}})}}]),t}(r.Component));V.defaultProps={colors:{above:"#3F7B7F",below:"#C1CACC"}};var q=V,w=a(107),G=a(259),k=a(73),O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.createTooltip(),window.addEventListener("resize",a.handleResize),a.handleResize()},a.handleResize=function(){a.setState({width:a.container&&a.container.clientWidth})},a.state={width:1e4},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"createTooltip",value:function(){Object(h.d)("body").append("div").attr("class","tooltip").attr("height",0),Object(h.d)(".tooltip").html("<text class='description-one'></text><text class='bold value-one'></text></br><text class='description-two' ></text><text class='bold value-two'></text>")}},{key:"render",value:function(){var e=this,t=this.state.width;return n.a.createElement("div",{className:"App container"},n.a.createElement("div",{className:"chart-container"},n.a.createElement("div",{className:"ui doubling centered one column grid header-container"},n.a.createElement("div",{className:"column"},n.a.createElement("h1",null,"The Economic Value of the Bicycle Industry in the United Kingdom"),n.a.createElement("p",null,"The downturn in 2016 is volume driven as the value added per bike is 10.5% above historical averages."))),n.a.createElement("div",{className:"ui doubling centered eight column grid"},k.map(function(a,r){return n.a.createElement("div",{className:"column card",ref:function(t){return e.container=t}},n.a.createElement(v,{key:a.year,data:k,year:a.year,marginRatio:.05,width:t,delay:500*r,height:157.5}),n.a.createElement(q,{key:a.grossValueAdded,data:w,year:a.year,marginRatio:.05,width:t,delay:500*r,height:350*.55}))})),n.a.createElement("div",null,n.a.createElement("div",{className:"ui doubling centered eight column grid"},n.a.createElement(G.a,{bulleted:!0,horizontal:!0,link:!0,className:"credit"},n.a.createElement(G.a.Item,{as:"a",href:"https://twitter.com/AndSzesztai",target:"_blank"},"Recreated with D3.js and React by: Andras Szesztai"),n.a.createElement(G.a.Item,{as:"a",href:"https://public.tableau.com/profile/andy.kriebel#!/vizhome/UKBicycleIndustryScorecard/MM-W9-2019",target:"_blank"},"Original design, calculations and text by: Andy Kriebel"),n.a.createElement(G.a.Item,{as:"a",href:"https://www.makeovermonday.co.uk/",target:"_blank"},"#MakeoverMonday 2019 W9"),n.a.createElement(G.a.Item,{as:"a",href:"https://data.world/makeovermonday/2019w11",target:"_blank"},"Data: SQW"))))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},73:function(e){e.exports=[{year:2010,valueAddedPerBik:111.25,"%fromAvgPerBike":-.048,grossValueAdded:434955426,"%fromAvgGross":.061,yearlyAvgGross:409757399},{year:2011,valueAddedPerBik:128.61,"%fromAvgPerBike":.101,grossValueAdded:435930074,"%fromAvgGross":.064,yearlyAvgGross:409757399},{year:2012,valueAddedPerBik:110.67,"%fromAvgPerBike":-.053,grossValueAdded:392309655,"%fromAvgGross":-.043,yearlyAvgGross:409757399},{year:2013,valueAddedPerBik:117.57,"%fromAvgPerBike":.006,grossValueAdded:400852024,"%fromAvgGross":-.022,yearlyAvgGross:409757399},{year:2014,valueAddedPerBik:110.5,"%fromAvgPerBike":-.054,grossValueAdded:408450409,"%fromAvgGross":-.003,yearlyAvgGross:409757399},{year:2015,valueAddedPerBik:114.35,"%fromAvgPerBike":-.021,grossValueAdded:422353280,"%fromAvgGross":.031,yearlyAvgGross:409757399},{year:2016,valueAddedPerBik:128.72,"%fromAvgPerBike":.102,grossValueAdded:373450926,"%fromAvgGross":-.089,yearlyAvgGross:409757399}]}},[[127,1,2]]]);
//# sourceMappingURL=main.003af6ce.chunk.js.map