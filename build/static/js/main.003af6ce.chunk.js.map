{"version":3,"sources":["components/functions.js","components/ChartHeader/ChartHeader.js","components/ChartBody/ChartBody.js","App.js","serviceWorker.js","index.js"],"names":["appendText","area","choosenData","className","anchor","xValue","yValue","value","currency","formatting","textvalue","selectAll","data","enter","append","attr","text","d","format","appendArea","left","top","concat","moveText","position","select","ChartHeader","prevProps","width","this","initVis","props","updateDimensions","_this","_this$props","height","year","marginRatio","colors","delay","above","below","svg","node","filteredData","filter","margin","chartWidth","chartHeight","chartArea","yearTextArea","banArea","banSubArea","chartText","barChartArea","xScale","scaleLinear","domain","max","grossValueAdded","range","bar","line","yearlyAvgGross","merge","transition","duration","style","_this2","_this$props2","_this3","react_default","a","createElement","ref","Component","defaultProps","ChartBody","quarter","substring","bars","minValue","min","maxValue","tooltip","yScale","scaleBand","map","paddingOuter","paddingInner","xAxis","xAxisCall","axisBottom","tickSize","call","remove","bandwidth","quarterlyAVG","on","currentEvent","pageX","pageY","App","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","componentDidMount","createTooltip","window","addEventListener","handleResize","setState","container","clientWidth","state","html","annual","i","parent","components_ChartHeader_ChartHeader","key","components_ChartBody_ChartBody","quarterly","List","bulleted","horizontal","link","Item","as","href","target","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"qwEAGMA,UAAa,SACjBC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEAT,EAAKU,UAAU,QACRC,KAAKV,GACLW,QACAC,OAAO,QACPC,KAAK,QAASZ,GACdY,KAAK,cAAeX,GACpBW,KAAK,IAAKV,GACVU,KAAK,IAAKT,GACVU,KAAe,SAAVT,EAAmB,SAAAU,GAAC,OAAIT,EAAWU,YAAOT,EAAPS,CAAmBD,EAAEP,KAAcA,KAEpFS,EAAa,SACXlB,EACAE,EACAiB,EACAC,GAEApB,EAAKa,OAAO,KACTC,KAAK,QAASZ,GACdY,KAAK,YAFR,aAAAO,OAEkCF,EAFlC,MAAAE,OAE2CD,EAF3C,OAIFE,EAAW,SACTtB,EACAE,EACAqB,GAEAvB,EAAKwB,OAAL,IAAAH,OAAgBnB,IAAaY,KAAK,IAAKS,IC9BnCE,0OAMeC,GAEO,MAApBA,EAAUC,MAAkBC,KAAKC,UAC5BH,EAAUC,QAAUC,KAAKE,MAAMH,OAAQC,KAAKG,qDAI9C,IAAAC,EAAAJ,KAAAK,EAE6DL,KAAKE,MAA/DI,EAFHD,EAEGC,OAAQP,EAFXM,EAEWN,MAAOhB,EAFlBsB,EAEkBtB,KAAMwB,EAFxBF,EAEwBE,KAAMC,EAF9BH,EAE8BG,YAAaC,EAF3CJ,EAE2CI,OAAQC,EAFnDL,EAEmDK,MAChDC,EAAiBF,EAAjBE,MAAOC,EAAUH,EAAVG,MACTC,EAAMjB,YAAOI,KAAKc,MAClBC,EAAehC,EAAKiC,OAAO,SAAA5B,GAAC,OAAIA,EAAEmB,QAAUA,IAC5CU,EAASlB,EAAQS,EACjBU,EAAanB,EAAe,EAAPkB,EACrBE,EAAcb,EAAgB,EAAPW,EAG/BJ,EAAI3B,KAAK,SAAUoB,GAAQpB,KAAK,QAASa,GAEzCT,EAAWuB,EAAK,aAAcI,EAAQA,GACtC3B,EAAWuB,EAAK,iBAAkBI,EAAQA,GAC1C3B,EAAWuB,EAAK,WAAYI,EAAQA,GACpC3B,EAAWuB,EAAK,eAAgBI,EAAQA,GACxC3B,EAAWuB,EAAK,kBAAmBI,EAAQA,GAC3C3B,EAAWuB,EAAK,iBAAkBI,EAAQA,EAAuB,IAAdE,GACnD7B,EAAWuB,EAAK,qBAAsBI,EAAQA,GAC9C3B,EAAWuB,EAAK,qBAAsBI,EAAQA,GAE9C,IAAMG,EAAYP,EAAIjB,OAAO,eACvByB,EAAeR,EAAIjB,OAAO,mBAC1B0B,EAAUT,EAAIjB,OAAO,aACrB2B,EAAaV,EAAIjB,OAAO,iBACxB4B,EAAYX,EAAIjB,OAAO,oBACvB6B,EAAeZ,EAAIjB,OAAO,mBAEhCzB,EAAWiD,EAAWL,EAAc,YAAa,SAAUG,EAAW,EAAe,GAAZC,EAAgB,OAAQ,GAAI,GAAG,QACxGhD,EAAWkD,EAAcN,EAAc,sBAAuB,SAAUG,EAAW,EAAe,GAAZC,EAAgB,OAAQ,GAAI,GAAG,wBACrHhD,EAAWmD,EAASP,EAAc,WAAY,SAAUG,EAAW,EAAe,GAAZC,EAAgB,OAAQ,OAAK,MAAM,oBACzGhD,EAAWoD,EAAYR,EAAc,qBAAsB,SAAUG,EAAW,EAAe,GAAZC,EAAgB,OAAQ,GAAI,OAAO,mBACtHhD,EAAWqD,EAAWT,EAAc,mBAAoB,QAAS,EAAe,GAAZI,EAAgB,OAAQ,GAAI,GAAG,qBAEnGnB,KAAK0B,OAASC,cAAcC,OAAO,CAAC,EAAqC,KAAlCC,YAAI9C,EAAM,SAAAK,GAAC,OAAIA,EAAE0C,oBAAwBC,MAAM,CAAC,EAAGb,IAE1F,IAAMc,EAAMP,EAAa3C,UAAU,mBAAmBC,KAAKgC,GACrDkB,EAAOR,EAAa3C,UAAU,mBAAmBC,KAAKgC,GACtD5B,EAAOsC,EAAa3C,UAAU,mBAAmBC,KAAKgC,GAE5DiB,EAAIhD,QACCC,OAAO,QACPC,KAAK,QAAS,kBACdA,KAAK,IAAK,GACVA,KAAK,IAAK,GACVA,KAAK,QAAS,GACdA,KAAK,SAAwB,GAAdiC,EAAmB,GAClCjC,KAAK,OAAQ,SAAAE,GAAC,OAAKA,EAAE0C,gBAAkB1C,EAAE8C,eAAiBvB,EAAQC,IAChEuB,MAAMH,GACNI,WAAW,UACX1B,MAAMA,GACN2B,SA3CI,KA4CJnD,KAAK,QAAS,SAAAE,GAAC,OAAIgB,EAAKsB,OAAOtC,EAAE0C,mBAExCG,EAAKjD,QACAC,OAAO,QACPC,KAAK,QAAS,kBACdA,KAAK,KAAM,SAAAE,GAAC,OAAIgB,EAAKsB,OAAOtC,EAAE8C,kBAC9BhD,KAAK,KAAM,SAAAE,GAAC,OAAIgB,EAAKsB,OAAOtC,EAAE8C,kBAC9BhD,KAAK,KAAM,GACXA,KAAK,KAAoB,GAAdiC,GACXmB,MAAM,SAAU,QAChBA,MAAM,eAAgB,GAE3BnD,EAAKH,QACAC,OAAO,QACPC,KAAK,QAAS,kBACdA,KAAK,IAAkB,IAAbgC,GACVhC,KAAK,cAAe,SACpBA,KAAK,IAAmB,KAAdiC,GACVjC,KAAK,OAAS,SAAAE,GAAC,OAAKA,EAAE0C,gBAAkB1C,EAAE8C,eAAiB,OAAS,SACpEhD,KAAK,UAAW,GAChBC,KAAM,SAAAC,GAAC,OAAIC,YAAO,MAAPA,CAAcD,EAAE0C,iBAAmB,MAAQzC,YAAO,OAAPA,CAAeD,EAAE,oBACrE+C,MAAMhD,GACNiD,WAAW,WACXC,SAnEI,KAoEJ3B,MAAMA,GACNxB,KAAK,UAAW,8CAIP,IAAAqD,EAAAvC,KAAAwC,EAEwBxC,KAAKE,MAApCI,EAFOkC,EAEPlC,OAAQP,EAFDyC,EAECzC,MAAOS,EAFRgC,EAEQhC,YAChBK,EAAMjB,YAAOI,KAAKc,MAElBI,EAAanB,EAAe,GADnBA,EAAQS,GAGzBK,EAAI3B,KAAK,SAAUoB,GAAQpB,KAAK,QAASa,GAEzCL,EAASmB,EAAK,YAAaK,EAAW,GACtCxB,EAASmB,EAAK,gBAAiBK,EAAW,GAC1CxB,EAASmB,EAAK,WAAYK,EAAW,GACrCxB,EAASmB,EAAK,eAAgBK,EAAW,GAEzClB,KAAK0B,OAAOK,MAAM,CAAC,EAAGb,IAEtBL,EAAIjB,OAAO,mBAAmBV,KAAK,QAAS,SAAAE,GAAC,OAAImD,EAAKb,OAAOtC,EAAE0C,mBAC/DjB,EAAIjB,OAAO,mBAAmBV,KAAK,KAAM,SAAAE,GAAC,OAAImD,EAAKb,OAAOtC,EAAE8C,kBAAiBhD,KAAK,KAAM,SAAAE,GAAC,OAAImD,EAAKb,OAAOtC,EAAE8C,mDAIrG,IAAAO,EAAAzC,KACN,OACA0C,EAAAC,EAAAC,cAAA,OAAKC,IAAK,SAAA/B,GAAI,OAAI2B,EAAK3B,KAAOA,YAtHRgC,aA2H1BjD,EAAYkD,aAAe,CACxBtC,OAAQ,CACNE,MAAO,UACPC,MAAO,YAIGf,iBCjITmD,kPAMelD,GAEO,MAApBA,EAAUC,MAAkBC,KAAKC,UAC5BH,EAAUC,QAAUC,KAAKE,MAAMH,OAAQC,KAAKG,qDAK9C,IAAAC,EAAAJ,KAAAK,EAG4DL,KAAKE,MAA9DI,EAHHD,EAGGC,OAAQP,EAHXM,EAGWN,MAAOhB,EAHlBsB,EAGkBtB,KAAMwB,EAHxBF,EAGwBE,KAAMC,EAH9BH,EAG8BG,YAAaC,EAH3CJ,EAG2CI,OAAQC,EAHnDL,EAGmDK,MAChDC,EAAiBF,EAAjBE,MAAOC,EAAUH,EAAVG,MACTC,EAAMjB,YAAOI,KAAKc,MAClBC,EAAehC,EAAKiC,OAAO,SAAA5B,GAAC,OAAKA,EAAE6D,QAAQC,UAAU,EAAE,KAAO3C,IAC9DU,EAASlB,EAAQS,EACjBU,EAAanB,EAAe,EAAPkB,EACrBE,EAAcb,EAAgB,EAAPW,EAG/BJ,EAAI3B,KAAK,SAAUoB,GAAQpB,KAAK,QAASa,GAEzCT,EAAWuB,EAAK,cAAeI,EAAQA,GACvC3B,EAAWuB,EAAK,SAAUI,EAAQA,EAAsB,IAAbE,GAE3C,IAAMC,EAAYP,EAAIjB,OAAO,eACvBuD,EAAO/B,EAAUtC,UAAU,oBAAoBC,KAAKgC,GACpD5B,EAAOiC,EAAUtC,UAAU,oBAAoBC,KAAKgC,GACpDkB,EAAOb,EAAUtC,UAAU,mBAAmBC,KAAKgC,GACnDqC,EAAWC,YAAItC,EAAc,SAAA3B,GAAC,OAAIA,EAAE0C,kBACpCwB,EAAWzB,YAAId,EAAc,SAAA3B,GAAC,OAAIA,EAAE0C,kBACpCyB,EAAU3D,YAAO,YAEvBzB,EAAWiD,EAAW,CAAC,QAAS,mBAAoB,QAAS,EAAgB,IAAbD,EAAkB,OAAQ,GAAI,GAAG,mCAEjGnB,KAAKwD,OAAS7B,cAAcI,MAAM,CAAe,IAAdZ,EAAgC,GAAbA,IAAkBS,OAAO,CAAC,EAAqC,KAAlCC,YAAI9C,EAAM,SAAAK,GAAC,OAAIA,EAAE0C,oBACpG9B,KAAK0B,OAAS+B,cAAY1B,MAAM,CAAC,EAAGb,IAAaU,OAAOb,EAAa2C,IAAI,SAAAtE,GAAC,OAAIA,EAAE6D,QAAQC,UAAU,MAAKS,aAAa,IAAIC,aAAa,IACrI5D,KAAK6D,MAAQhD,EAAIjB,OAAO,WACxBI,KAAK8D,UAAYC,YAAW/D,KAAK0B,QAAQsC,SAAS,GAElDhE,KAAK6D,MAAMzB,aAAaC,SAAS,KAAM4B,KAAKjE,KAAK8D,WACjD9D,KAAK6D,MAAMjE,OAAO,WAAWsE,SAC7BlE,KAAK6D,MAAM/E,UAAU,cAAcoF,SAEnCf,EAAKnE,QACAC,OAAO,QACPC,KAAK,QAAS,mBACdA,KAAK,IAAK,SAAAE,GAAC,OAAIgB,EAAKsB,OAAOtC,EAAE6D,QAAQC,UAAU,MAC/ChE,KAAK,SAAU,GACfA,KAAK,IAAmB,IAAdiC,GACVjC,KAAK,QAASc,KAAK0B,OAAOyC,aAC1BjF,KAAK,OAAQ,SAAAE,GAAC,OAAKA,EAAE0C,gBAAkB1C,EAAEgF,aAAezD,EAAQC,IAChEyD,GAAG,YAAa,SAAAjF,GACPmE,EAAQjB,MAAM,UAAW,IAAIA,MAAM,SAAU,QAC7CiB,EAAQ3D,OAAO,cAAcT,KAAKC,EAAE6D,SACpCM,EAAQ3D,OAAO,oBAAoBT,KAAK,uBACxCoE,EAAQ3D,OAAO,cAAcT,KAAK,OAAME,YAAO,MAAPA,CAAcD,EAAE0C,oBAEjEuC,GAAG,YAAa,SAAAjF,GAAC,OAAImE,EAAQjB,MAAM,OAASgC,IAAaC,MAAQ,GAAM,MAAMjC,MAAM,MAAQgC,IAAaE,MAAQ,GAAM,QACtHH,GAAG,WAAY,SAAAjF,GAAMmE,EAAQjB,MAAM,UAAW,GAAGA,MAAM,SAAU,GAC5CiB,EAAQzE,UAAU,QAAQK,KAAK,MAChDgD,MAAMgB,GACNf,WAAW,WACXC,SA7CG,KA8CH3B,MAAMA,GACNxB,KAAK,SAAU,SAAAE,GAAC,OAAIgB,EAAKoD,OAAO,GAAKpD,EAAKoD,OAAOpE,EAAE0C,mBACnD5C,KAAK,IAAK,SAAAE,GAAC,OAAIgB,EAAKoD,OAAOpE,EAAE0C,mBAEtC3C,EAAKH,QACAC,OAAO,QACPC,KAAK,QAAS,mBACdA,KAAK,IAAK,SAAAE,GAAC,OAAIgB,EAAKsB,OAAOtC,EAAE6D,QAAQC,UAAU,IAAM9C,EAAKsB,OAAOyC,YAAY,IAC7EjF,KAAK,cAAe,UACpBA,KAAK,IAAKc,KAAKwD,OAAO,IACtBtE,KAAK,OAAQ,QACbA,KAAK,UAAW,GAChBA,KAAK,YAAa,SAAAE,GAAC,OAAIA,EAAE0C,kBAAoBsB,GAAYhE,EAAE0C,kBAAoBwB,EAAU,OAAS,IAClGnE,KAAM,SAAAC,GAAC,MAAI,OAAMC,YAAO,MAAPA,CAAcD,EAAE0C,mBAC/BK,MAAMhD,GACNiD,WAAW,WACXC,SA9DK,KA+DL3B,MAAMA,GACNxB,KAAK,UAAW,GAChBA,KAAK,IAAK,SAAAE,GAAC,OAAIgB,EAAKoD,OAAOpE,EAAE0C,kBAAoB,IAExDG,EAAKjD,QACAC,OAAO,QACPC,KAAK,QAAS,kBACdA,KAAK,KAAM,GACXA,KAAK,KAAMgC,GACXhC,KAAK,KAAM,SAAAE,GAAC,OAAIgB,EAAKoD,OAAOpE,EAAEgF,gBAC9BlF,KAAK,KAAM,SAAAE,GAAC,OAAIgB,EAAKoD,OAAOpE,EAAEgF,gBAC9B9B,MAAM,SAAU,QAChBA,MAAM,eAAgB,GACtBpD,KAAK,UAAW,GAChBmF,GAAG,YAAa,SAAAjF,GACPmE,EAAQjB,MAAM,UAAW,IAAIA,MAAM,SAAU,QAC7CiB,EAAQ3D,OAAO,oBAAoBT,KAAK,sBACxCoE,EAAQ3D,OAAO,cAAcT,KAAK,OAAME,YAAO,MAAPA,CAAcD,EAAEgF,iBAEjEC,GAAG,YAAa,SAAAjF,GAAC,OAAImE,EAAQjB,MAAM,OAASgC,IAAaC,MAAQ,GAAM,MAAMjC,MAAM,MAAQgC,IAAaE,MAAQ,GAAM,QACtHH,GAAG,WAAY,SAAAjF,GAAMmE,EAAQjB,MAAM,UAAW,GAAGA,MAAM,SAAU,GAC5CiB,EAAQzE,UAAU,QAAQK,KAAK,MAChDgD,MAAMF,GACNG,WAAW,WACXC,SAvFG,KAwFH3B,MAAMA,GACNxB,KAAK,UAAW,8CAIT,IAAAqD,EAAAvC,KAAAwC,EAEwBxC,KAAKE,MAApCI,EAFOkC,EAEPlC,OAAQP,EAFDyC,EAECzC,MAAOS,EAFRgC,EAEQhC,YAChBK,EAAMjB,YAAOI,KAAKc,MAElBI,EAAanB,EAAe,GADnBA,EAAQS,GAGzBK,EAAI3B,KAAK,SAAUoB,GAAQpB,KAAK,QAASa,GAEzCC,KAAK0B,OAAOK,MAAM,CAAC,EAAGb,IAEtBlB,KAAK6D,MAAMI,KAAKjE,KAAK8D,WACrB9D,KAAK6D,MAAMjE,OAAO,WAAWsE,SAC7BlE,KAAK6D,MAAM/E,UAAU,cAAcoF,SAEnCrD,EAAI/B,UAAU,oBACTI,KAAK,IAAK,SAAAE,GAAC,OAAImD,EAAKb,OAAOtC,EAAE6D,QAAQC,UAAU,MAC/ChE,KAAK,QAASc,KAAK0B,OAAOyC,aAE/BtD,EAAI/B,UAAU,oBACTI,KAAK,IAAK,SAAAE,GAAC,OAAImD,EAAKb,OAAOtC,EAAE6D,QAAQC,UAAU,IAAMX,EAAKb,OAAOyC,YAAY,qCAM5E,IAAA1B,EAAAzC,KACN,OACA0C,EAAAC,EAAAC,cAAA,OAAKC,IAAK,SAAA/B,GAAI,OAAI2B,EAAK3B,KAAOA,YAjJVgC,cAsJxBE,EAAUD,aAAe,CACtBtC,OAAQ,CACNE,MAAO,UACPC,MAAO,YAIGoC,kCC9EAyB,cAhFb,SAAAA,EAAYvE,GAAM,IAAAE,EAAA,OAAAsE,OAAAC,EAAA,EAAAD,CAAA1E,KAAAyE,IAChBrE,EAAAsE,OAAAE,EAAA,EAAAF,CAAA1E,KAAA0E,OAAAG,EAAA,EAAAH,CAAAD,GAAAR,KAAAjE,KAAME,KAMR4E,kBAAoB,WAChB1E,EAAK2E,gBACLC,OAAOC,iBAAiB,SAAU7E,EAAK8E,cACvC9E,EAAK8E,gBAVS9E,EAalB8E,aAAe,WACX9E,EAAK+E,SAAS,CAACpF,MAAOK,EAAKgF,WAAahF,EAAKgF,UAAUC,eAZzDjF,EAAKkF,MAAQ,CACTvF,MAAO,KAHKK,+EAkBhBR,YAAO,QAAQX,OAAO,OAAOC,KAAK,QAAlC,WAAsDA,KAAK,SAAU,GACrEU,YAAM,YACH2F,KACG,6LAKC,IAAAhD,EAAAvC,KAECD,EAAUC,KAAKsF,MAAfvF,MAGR,OACE2C,EAAAC,EAAAC,cAAA,OAAKtE,UAAU,iBACboE,EAAAC,EAAAC,cAAA,OAAKtE,UAAU,mBACfoE,EAAAC,EAAAC,cAAA,OAAKtE,UAAU,yDACXoE,EAAAC,EAAAC,cAAA,OAAKtE,UAAU,UACboE,EAAAC,EAAAC,cAAA,8EACAF,EAAAC,EAAAC,cAAA,oHAGNF,EAAAC,EAAAC,cAAA,OAAKtE,UAAU,0CACZkH,EAAO9B,IAAI,SAACtE,EAAEqG,GACb,OAAO/C,EAAAC,EAAAC,cAAA,OAAKtE,UAAU,cAAcuE,IAAK,SAAA6C,GAAM,OAAInD,EAAK6C,UAAYM,IAC1DhD,EAAAC,EAAAC,cAAC+C,EAAD,CACEC,IAAOxG,EAAEmB,KACTxB,KAAQyG,EACRjF,KAAQnB,EAAEmB,KACVC,YAAe,IACfT,MAASA,EACTW,MAAa,IAAJ+E,EACTnF,OAAUA,QAEZoC,EAAAC,EAAAC,cAACiD,EAAD,CACED,IAAOxG,EAAE0C,gBACT/C,KAAQ+G,EACRvF,KAAQnB,EAAEmB,KACVC,YAAe,IACfT,MAASA,EACTW,MAAa,IAAJ+E,EACTnF,OA9BH,IA8BsB,UAKjCoC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKtE,UAAU,0CACboE,EAAAC,EAAAC,cAACmD,EAAA,EAAD,CAAMC,UAAQ,EAACC,YAAU,EAACC,MAAI,EAAC5H,UAAU,UACrCoE,EAAAC,EAAAC,cAACmD,EAAA,EAAKI,KAAN,CAAWC,GAAG,IAAIC,KAAK,kCAAmCC,OAAO,UAAjE,sDACA5D,EAAAC,EAAAC,cAACmD,EAAA,EAAKI,KAAN,CAAWC,GAAG,IAAIC,KAAK,kGAAmGC,OAAO,UAAjI,2DACA5D,EAAAC,EAAAC,cAACmD,EAAA,EAAKI,KAAN,CAAWC,GAAG,IAAGC,KAAK,oCAAqCC,OAAO,UAAlE,2BACA5D,EAAAC,EAAAC,cAACmD,EAAA,EAAKI,KAAN,CAAWC,GAAG,IAAIC,KAAK,4CAA6CC,OAAO,UAA3E,yBAvEAxD,aCGEyD,QACW,cAA7BvB,OAAOwB,SAASC,UAEe,UAA7BzB,OAAOwB,SAASC,UAEhBzB,OAAOwB,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAOlE,EAAAC,EAAAC,cAACiE,EAAD,MAASC,SAASC,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.003af6ce.chunk.js","sourcesContent":["\nimport { format } from 'd3-format'\n\nconst appendText = (\n  area,\n  choosenData,\n  className,\n  anchor,\n  xValue,\n  yValue,\n  value,\n  currency,\n  formatting,\n  textvalue\n) => {\n  area.selectAll('text')\n        .data(choosenData)\n        .enter()\n        .append('text')\n        .attr('class', className)\n        .attr('text-anchor', anchor)\n        .attr('x', xValue)\n        .attr('y', yValue)\n        .text(value === 'data' ? d => currency + format(formatting)(d[textvalue]) : textvalue)\n},\nappendArea = (\n  area,\n  className,\n  left,\n  top\n) => {\n  area.append('g')\n    .attr('class', className)\n    .attr('transform', `translate(${left}, ${top})`)\n},\nmoveText = (\n  area,\n  className,\n  position\n) => {\n  area.select(`.${className}`).attr('x', position)\n}\n\n\nexport {appendText, appendArea, moveText}\n","import React, {Component} from 'react'\nimport { select } from 'd3-selection'\nimport { scaleLinear } from 'd3-scale'\nimport { transition } from 'd3-transition'\nimport { max } from 'd3-array'\nimport { format } from 'd3-format'\nimport './ChartHeader.css'\nimport { appendText, appendArea, moveText } from '../functions'\n\n\nclass ChartHeader extends Component {\n\n  componentDidMount(){\n\n  }\n\n  componentDidUpdate(prevProps){\n\n    if (prevProps.width === 10000) {this.initVis()}\n    else if (prevProps.width !== this.props.width) {this.updateDimensions()}\n\n  }\n\n  initVis(){\n\n    const   { height, width, data, year, marginRatio, colors, delay } = this.props,\n            { above, below } = colors,\n            svg = select(this.node),\n            filteredData = data.filter(d => d.year === +year),\n            margin = width * marginRatio,\n            chartWidth = width - margin*2,\n            chartHeight = height - margin*2,\n            t =1000\n\n    svg.attr('height', height).attr('width', width)\n\n    appendArea(svg, 'chart-area', margin, margin)\n    appendArea(svg, 'year-text-area', margin, margin)\n    appendArea(svg, 'ban-area', margin, margin)\n    appendArea(svg, 'ban-sub-area', margin, margin)\n    appendArea(svg, 'chart-text-area', margin, margin)\n    appendArea(svg, 'bar-chart-area', margin, margin + chartHeight * .85)\n    appendArea(svg, 'bar-chart-text-one', margin, margin)\n    appendArea(svg, 'bar-chart-text-two', margin, margin)\n\n    const chartArea = svg.select('.chart-area'),\n          yearTextArea = svg.select('.year-text-area'),\n          banArea = svg.select('.ban-area'),\n          banSubArea = svg.select('.ban-sub-area'),\n          chartText = svg.select('.chart-text-area'),\n          barChartArea = svg.select('.bar-chart-area')\n\n    appendText(chartArea, filteredData, 'year-text', 'middle', chartWidth/2, chartHeight*.1, 'data', '', '','year')\n    appendText(yearTextArea, filteredData, 'year-sub-text light', 'middle', chartWidth/2, chartHeight*.2, 'text', '', '','Value Added per Bike')\n    appendText(banArea, filteredData, 'ban-text', 'middle', chartWidth/2, chartHeight*.5, 'data', '£', \".2f\",'valueAddedPerBik')\n    appendText(banSubArea, filteredData, 'ban-sub-text light', 'middle', chartWidth/2, chartHeight*.6, 'data', '', \"+.1%\",'%fromAvgPerBike')\n    appendText(chartText, filteredData, 'chart-text light', 'start', 0, chartHeight*.8, 'text', '', '','Gross Value Added')\n\n    this.xScale = scaleLinear().domain([0, max(data, d => d.grossValueAdded)*1.05]).range([0, chartWidth])\n\n    const bar = barChartArea.selectAll('.bar-chart-rect').data(filteredData),\n          line = barChartArea.selectAll('.bar-chart-line').data(filteredData),\n          text = barChartArea.selectAll('.bar-chart-text').data(filteredData)\n\n    bar.enter()\n        .append('rect')\n        .attr('class', 'bar-chart-rect')\n        .attr('x', 0)\n        .attr('y', 3)\n        .attr('width', 0)\n        .attr('height', chartHeight * .2 - 6)\n        .attr('fill', d  => d.grossValueAdded > d.yearlyAvgGross ? above : below)\n          .merge(bar)\n          .transition('bar-in')\n          .delay(delay)\n          .duration(t)\n          .attr('width', d => this.xScale(d.grossValueAdded))\n\n    line.enter()\n        .append('line')\n        .attr('class', 'bar-chart-line')\n        .attr('x1', d => this.xScale(d.yearlyAvgGross))\n        .attr('x2', d => this.xScale(d.yearlyAvgGross))\n        .attr('y1', 0)\n        .attr('y1', chartHeight * .2)\n        .style('stroke', '#333')\n        .style('stroke-width', 2)\n\n    text.enter()\n        .append('text')\n        .attr('class', 'bar-chart-text')\n        .attr('x', chartWidth * .02)\n        .attr('text-anchor', 'start')\n        .attr('y', chartHeight * .125)\n        .attr('fill',  d  => d.grossValueAdded > d.yearlyAvgGross ? '#fff' : '#333')\n        .attr('opacity', 0)\n        .text( d => format('.3s')(d.grossValueAdded) + ' | ' + format(\"+.1%\")(d['%fromAvgGross']))\n          .merge(text)\n          .transition('text-in')\n          .duration(t)\n          .delay(delay)\n          .attr('opacity', 1)\n\n  }\n\n  updateDimensions(){\n\n    const   {height, width, marginRatio } = this.props,\n            svg = select(this.node),\n            margin = width * marginRatio,\n            chartWidth = width - margin*2\n\n    svg.attr('height', height).attr('width', width)\n\n    moveText(svg, 'year-text', chartWidth/2)\n    moveText(svg, 'year-sub-text', chartWidth/2)\n    moveText(svg, 'ban-text', chartWidth/2)\n    moveText(svg, 'ban-sub-text', chartWidth/2)\n\n    this.xScale.range([0, chartWidth])\n\n    svg.select('.bar-chart-rect').attr('width', d => this.xScale(d.grossValueAdded))\n    svg.select('.bar-chart-line').attr('x1', d => this.xScale(d.yearlyAvgGross)).attr('x2', d => this.xScale(d.yearlyAvgGross))\n\n  }\n\n  render(){\n    return(\n    <svg ref={node => this.node = node}/>\n    )\n  }\n}\n\nChartHeader.defaultProps = {\n   colors: {\n     above: '#3F7B7F',\n     below: '#C1CACC'\n   }\n}\n\nexport default ChartHeader;\n","import React, {Component} from 'react'\nimport {select, event as currentEvent} from 'd3-selection'\nimport { scaleLinear, scaleBand } from 'd3-scale'\nimport { transition } from 'd3-transition'\nimport { max, min } from 'd3-array'\nimport { axisBottom } from 'd3-axis'\nimport { format } from 'd3-format'\nimport './ChartBody.css'\nimport { appendText, appendArea } from '../functions'\n\n\nclass ChartBody extends Component {\n\n  componentDidMount(){\n\n  }\n\n  componentDidUpdate(prevProps){\n\n    if (prevProps.width === 10000) {this.initVis()}\n    else if (prevProps.width !== this.props.width) {this.updateDimensions()}\n\n  }\n\n\n  initVis(){\n\n\n    const   { height, width, data, year, marginRatio, colors, delay} = this.props,\n            { above, below } = colors,\n            svg = select(this.node),\n            filteredData = data.filter(d => +d.quarter.substring(0,4) === year),\n            margin = width * marginRatio,\n            chartWidth = width - margin*2,\n            chartHeight = height - margin*2,\n            t = 1000\n\n    svg.attr('height', height).attr('width', width)\n\n    appendArea(svg, 'chart-area ', margin, margin)\n    appendArea(svg, 'x-axis', margin, margin + chartHeight *.97)\n\n    const chartArea = svg.select('.chart-area'),\n          bars = chartArea.selectAll('.bar-chart-rects').data(filteredData),\n          text = chartArea.selectAll('.bar-chart-label').data(filteredData),\n          line = chartArea.selectAll('.bar-chart-line').data(filteredData),\n          minValue = min(filteredData, d => d.grossValueAdded),\n          maxValue = max(filteredData, d => d.grossValueAdded),\n          tooltip = select('.tooltip')\n\n    appendText(chartArea, ['text'], '.bar-title light', 'start', 0, chartHeight *.05, 'text', '', '','Gross Value Added vs. Qtrly Avg')\n\n    this.yScale = scaleLinear().range([chartHeight * .97, chartHeight *.1]).domain([0, max(data, d => d.grossValueAdded)*1.05])\n    this.xScale = scaleBand().range([0, chartWidth]).domain(filteredData.map(d => d.quarter.substring(5))).paddingOuter(.1).paddingInner(.2)\n    this.xAxis = svg.select('.x-axis')\n    this.xAxisCall = axisBottom(this.xScale).tickSize(1)\n\n    this.xAxis.transition().duration(1000).call(this.xAxisCall)\n    this.xAxis.select('.domain').remove()\n    this.xAxis.selectAll('.tick line').remove()\n\n    bars.enter()\n        .append('rect')\n        .attr('class', 'bar-chart-rects')\n        .attr('x', d => this.xScale(d.quarter.substring(5)))\n        .attr('height', 0)\n        .attr('y', chartHeight * .97)\n        .attr('width', this.xScale.bandwidth())\n        .attr('fill', d  => d.grossValueAdded > d.quarterlyAVG ? above : below)\n        .on('mouseover', d => {\n                  tooltip.style('opacity', .9).style('height', 'auto')\n                  tooltip.select('.value-one').text(d.quarter)\n                  tooltip.select('.description-two').text('Gross Value Added: ')\n                  tooltip.select('.value-two').text('£' + format('.3s')(d.grossValueAdded))\n                })\n        .on('mousemove', d => tooltip.style(\"left\", (currentEvent.pageX + 10) + \"px\").style(\"top\", (currentEvent.pageY + 10) + \"px\"))\n        .on('mouseout', d => {tooltip.style(\"opacity\", 0).style('height', 0)\n                              tooltip.selectAll('text').text('')})\n            .merge(bars)\n            .transition('bars-in')\n            .duration(t)\n            .delay(delay)\n            .attr('height', d => this.yScale(0) - this.yScale(d.grossValueAdded))\n            .attr('y', d => this.yScale(d.grossValueAdded))\n\n    text.enter()\n        .append('text')\n        .attr('class', 'bar-chart-label')\n        .attr('x', d => this.xScale(d.quarter.substring(5)) + this.xScale.bandwidth()/2)\n        .attr('text-anchor', 'middle')\n        .attr('y', this.yScale(0))\n        .attr('fill', '#333')\n        .attr('opacity', 0)\n        .attr('font-size', d => d.grossValueAdded === minValue || d.grossValueAdded === maxValue? '10px' : 0)\n        .text( d => '£' + format('.3s')(d.grossValueAdded))\n          .merge(text)\n          .transition('bars-in')\n          .duration(t)\n          .delay(delay)\n          .attr('opacity', 1)\n          .attr('y', d => this.yScale(d.grossValueAdded) + -3)\n\n    line.enter()\n        .append('line')\n        .attr('class', 'bar-chart-line')\n        .attr('x1', 0)\n        .attr('x2', chartWidth)\n        .attr('y1', d => this.yScale(d.quarterlyAVG))\n        .attr('y2', d => this.yScale(d.quarterlyAVG))\n        .style('stroke', '#333')\n        .style('stroke-width', 2)\n        .attr('opacity', 0)\n        .on('mouseover', d => {\n                  tooltip.style('opacity', .9).style('height', 'auto')\n                  tooltip.select('.description-one').text('Quaterly Average: ')\n                  tooltip.select('.value-one').text('£' + format('.3s')(d.quarterlyAVG))\n                })\n        .on('mousemove', d => tooltip.style(\"left\", (currentEvent.pageX + 10) + \"px\").style(\"top\", (currentEvent.pageY + 10) + \"px\"))\n        .on('mouseout', d => {tooltip.style(\"opacity\", 0).style('height', 0)\n                              tooltip.selectAll('text').text('')})\n            .merge(line)\n            .transition('line-in')\n            .duration(t)\n            .delay(delay)\n            .attr('opacity', 1)\n\n  }\n\n  updateDimensions(){\n\n    const   {height, width, marginRatio } = this.props,\n            svg = select(this.node),\n            margin = width * marginRatio,\n            chartWidth = width - margin*2\n\n    svg.attr('height', height).attr('width', width)\n\n    this.xScale.range([0, chartWidth])\n\n    this.xAxis.call(this.xAxisCall)\n    this.xAxis.select('.domain').remove()\n    this.xAxis.selectAll('.tick line').remove()\n\n    svg.selectAll('.bar-chart-rects')\n        .attr('x', d => this.xScale(d.quarter.substring(5)))\n        .attr('width', this.xScale.bandwidth())\n\n    svg.selectAll('.bar-chart-label')\n        .attr('x', d => this.xScale(d.quarter.substring(5)) + this.xScale.bandwidth()/2)\n\n\n\n  }\n\n  render(){\n    return(\n    <svg ref={node => this.node = node}/>\n    )\n  }\n}\n\nChartBody.defaultProps = {\n   colors: {\n     above: '#3F7B7F',\n     below: '#C1CACC'\n   }\n}\n\nexport default ChartBody;\n","import React, { Component } from 'react';\nimport './App.css';\nimport {select } from 'd3-selection'\nimport ChartHeader from './components/ChartHeader/ChartHeader'\nimport ChartBody from './components/ChartBody/ChartBody'\nimport quarterly from './data/quarter.json'\nimport { List } from 'semantic-ui-react'\nimport annual from './data/annual.json'\n\nclass App extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n        width: 10000,\n    }\n  }\n\n  componentDidMount = () => {\n      this.createTooltip()\n      window.addEventListener(\"resize\", this.handleResize);\n      this.handleResize()\n  }\n\n  handleResize = () => {\n      this.setState({width: this.container && this.container.clientWidth})\n  }\n\n  createTooltip(){\n    select('body').append('div').attr('class', `tooltip`).attr('height', 0)\n    select(`.tooltip`)\n      .html(\n          \"<text class='description-one'></text><text class='bold value-one'></text></br>\" +\n          \"<text class='description-two' ></text><text class='bold value-two'></text>\"\n      )\n  }\n\n  render() {\n\n    const { width } = this.state,\n            height = 350\n\n    return (\n      <div className=\"App container\" >\n        <div className=\"chart-container\">\n        <div className=\"ui doubling centered one column grid header-container\">\n            <div className=\"column\">\n              <h1>The Economic Value of the Bicycle Industry in the United Kingdom</h1>\n              <p>The downturn in 2016 is volume driven as the value added per bike is 10.5% above historical averages.</p>\n            </div>\n        </div>\n        <div className=\"ui doubling centered eight column grid\">\n          {annual.map((d,i) => {\n            return <div className=\"column card\" ref={parent => this.container = parent} >\n                      <ChartHeader\n                        key = {d.year}\n                        data = {annual}\n                        year = {d.year}\n                        marginRatio = {0.05}\n                        width = {width}\n                        delay = {i * 500}\n                        height = {height * .45}\n                        />\n                      <ChartBody\n                        key = {d.grossValueAdded}\n                        data = {quarterly}\n                        year = {d.year}\n                        marginRatio = {0.05}\n                        width = {width}\n                        delay = {i * 500}\n                        height = {height * .55}\n                        />\n                  </div>\n          })}\n        </div>\n          <div>\n            <div className=\"ui doubling centered eight column grid\">\n              <List bulleted horizontal link className=\"credit\">\n                  <List.Item as='a' href=\"https://twitter.com/AndSzesztai\"  target=\"_blank\">Recreated with D3.js and React by: Andras Szesztai</List.Item>\n                  <List.Item as='a' href=\"https://public.tableau.com/profile/andy.kriebel#!/vizhome/UKBicycleIndustryScorecard/MM-W9-2019\"  target=\"_blank\">Original design, calculations and text by: Andy Kriebel</List.Item>\n                  <List.Item as='a'href=\"https://www.makeovermonday.co.uk/\"  target=\"_blank\">#MakeoverMonday 2019 W9</List.Item>\n                  <List.Item as='a' href=\"https://data.world/makeovermonday/2019w11\"  target=\"_blank\">Data: SQW</List.Item>\n              </List>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}